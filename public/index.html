<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager API - Dashboard</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="brand-icon">ðŸ“‹</span>
                <span>Task Manager</span>
            </div>
            <div class="nav-links">
                <a href="#" class="nav-link active" data-view="dashboard">Dashboard</a>
                <a href="#" class="nav-link" data-view="docs">API Documentation</a>
            </div>
        </div>
    </nav>

    <main class="main-container">
        <!-- Dashboard View -->
        <div id="dashboard-view" class="view active">
            <div class="dashboard-grid">
                <!-- Create Task Card -->
                <div class="card card-wide">
                    <div class="card-header">
                        <h2 class="card-title">Create New Task</h2>
                    </div>
                    <div class="card-body">
                        <form id="taskForm" class="task-form">
                            <div class="form-group">
                                <label for="taskTitle" class="form-label">Title *</label>
                                <input 
                                    type="text" 
                                    id="taskTitle" 
                                    class="form-input" 
                                    placeholder="Enter task title (min 3 characters)"
                                    required
                                    minlength="3"
                                    maxlength="255">
                                <span id="titleError" class="form-error"></span>
                            </div>
                            
                            <div class="form-group">
                                <label for="taskDescription" class="form-label">Description</label>
                                <textarea 
                                    id="taskDescription" 
                                    class="form-input form-textarea" 
                                    placeholder="Enter task description (optional)"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="taskStatus" class="form-label">Status</label>
                                <select id="taskStatus" class="form-input form-select">
                                    <option value="pending">Pending</option>
                                    <option value="in_progress">In Progress</option>
                                    <option value="completed">Completed</option>
                                </select>
                            </div>
                            
                            <button type="submit" class="btn btn-primary btn-block">
                                <span class="btn-icon">âž•</span>
                                Create Task
                            </button>
                        </form>
                    </div>
                </div>

                <!-- API Response Monitor -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">API Response</h2>
                    </div>
                    <div class="card-body">
                        <pre id="apiResponse" class="response-monitor">Waiting for API request...</pre>
                    </div>
                </div>

                <!-- Tasks List Card -->
                <div class="card card-full">
                    <div class="card-header">
                        <h2 class="card-title">Tasks</h2>
                        <div class="card-actions">
                            <button class="btn btn-sm btn-ghost" onclick="taskManager.loadTasks()">
                                <span class="btn-icon">ðŸ”„</span>
                                Refresh
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="filter-bar">
                            <button class="filter-btn active" data-status="">All Tasks</button>
                            <button class="filter-btn" data-status="pending">Pending</button>
                            <button class="filter-btn" data-status="in_progress">In Progress</button>
                            <button class="filter-btn" data-status="completed">Completed</button>
                        </div>
                        <div id="tasksList" class="tasks-grid">
                            <div class="empty-state">
                                <div class="empty-icon">ðŸ“­</div>
                                <p class="empty-text">No tasks yet</p>
                                <p class="empty-subtext">Create your first task to get started</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- API Documentation View -->
        <div id="docs-view" class="view">
            <div class="docs-container">
                <h1 class="docs-title">Task Manager API Documentation</h1>
                
                <section class="docs-section">
                    <h2>Base URL</h2>
                    <code class="code-block">http://localhost:8000/api/tasks</code>
                </section>

                <section class="docs-section">
                    <h2>API Endpoints</h2>
                    
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="http-method http-get">GET</span>
                            <code>/api/tasks</code>
                        </div>
                        <p class="endpoint-description">Retrieve all tasks with optional status filtering</p>
                        <div class="endpoint-params">
                            <h4>Parameters:</h4>
                            <ul>
                                <li><code>status</code> (optional) - Filter by status: pending, in_progress, completed</li>
                            </ul>
                        </div>
                        <div class="endpoint-example">
                            <h4>Example Response:</h4>
                            <pre class="code-block">{
  "success": true,
  "data": [
    {
      "id": 1,
      "title": "Task Title",
      "description": "Task description",
      "status": "pending",
      "createdAt": "2025-10-07 22:51:34",
      "updatedAt": null
    }
  ]
}</pre>
                        </div>
                    </div>

                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="http-method http-get">GET</span>
                            <code>/api/tasks/{id}</code>
                        </div>
                        <p class="endpoint-description">Retrieve a specific task by ID</p>
                    </div>

                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="http-method http-post">POST</span>
                            <code>/api/tasks</code>
                        </div>
                        <p class="endpoint-description">Create a new task</p>
                        <div class="endpoint-params">
                            <h4>Request Body:</h4>
                            <pre class="code-block">{
  "title": "string (required, min: 3, max: 255)",
  "description": "string (optional)",
  "status": "string (optional, default: pending)"
}</pre>
                        </div>
                    </div>

                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="http-method http-put">PUT</span>
                            <code>/api/tasks/{id}</code>
                        </div>
                        <p class="endpoint-description">Update an existing task</p>
                        <div class="endpoint-params">
                            <h4>Request Body (all fields optional):</h4>
                            <pre class="code-block">{
  "title": "string",
  "description": "string",
  "status": "string"
}</pre>
                        </div>
                    </div>

                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="http-method http-delete">DELETE</span>
                            <code>/api/tasks/{id}</code>
                        </div>
                        <p class="endpoint-description">Delete a task</p>
                    </div>
                </section>

                <section class="docs-section">
                    <h2>Status Codes</h2>
                    <table class="docs-table">
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>200</code></td>
                                <td>Success</td>
                            </tr>
                            <tr>
                                <td><code>201</code></td>
                                <td>Created</td>
                            </tr>
                            <tr>
                                <td><code>400</code></td>
                                <td>Bad Request - Validation Error</td>
                            </tr>
                            <tr>
                                <td><code>404</code></td>
                                <td>Not Found</td>
                            </tr>
                            <tr>
                                <td><code>500</code></td>
                                <td>Internal Server Error</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section class="docs-section">
                    <h2>Validation Rules</h2>
                    <ul>
                        <li><strong>Title:</strong> Required, 3-255 characters</li>
                        <li><strong>Description:</strong> Optional, unlimited text</li>
                        <li><strong>Status:</strong> Must be one of: pending, in_progress, completed</li>
                    </ul>
                </section>
            </div>
        </div>
    </main>

    <script src="/assets/js/app.js"></script>
</body>
</html>
